create or replace schema TARGET;

create or replace TABLE DWH_COMPANY_D (
	CU_KEY NUMBER(38,0) autoincrement,
	CU_ID NUMBER(38,0),
	NAME VARCHAR(16777216),
	SUPPLIER_FLAG VARCHAR(16777216),
	LOGIN_NAME VARCHAR(16777216),
	COUNTRY VARCHAR(16777216),
	LOCATION VARCHAR(16777216),
	CURRENT_FLG VARCHAR(1),
	RCD_INSERT_DT TIMESTAMP_NTZ(9),
	RCD_UPDATE_DT TIMESTAMP_NTZ(9),
	constraint PK_DWH_COMPANY_D primary key (CU_ID)
);
create or replace TABLE DWH_CUSTOMER_D (
	DO_KEY NUMBER(38,0) autoincrement,
	DO_ID NUMBER(38,0),
	FIRST_NAME VARCHAR(16777216),
	FULL_NAME VARCHAR(16777216),
	LAST_NAME VARCHAR(16777216),
	DOB DATE,
	LOGIN_NAME VARCHAR(16777216),
	COUNTRY VARCHAR(16777216),
	LOCATION VARCHAR(16777216),
	CURRENT_FLG VARCHAR(1),
	RCD_INSERT_DT TIMESTAMP_NTZ(9),
	RCD_UPDATE_DT TIMESTAMP_NTZ(9),
	constraint PK_DWH_CUSTOMER_D primary key (DO_ID)
);
create or replace TABLE DWH_ORDERS_F (
	ORDER_KEY NUMBER(38,0) autoincrement,
	ORDER_NUM NUMBER(38,0),
	PARENT_ORDER_NUM NUMBER(38,0),
	ORDER_TYPE VARCHAR(16777216),
	BUYER_KEY NUMBER(38,0),
	BUYER NUMBER(38,0),
	SELLER_KEY NUMBER(38,0),
	SELLER NUMBER(38,0),
	PROD_KEY NUMBER(38,0),
	PROD_ID NUMBER(38,0),
	ORDERED_BY NUMBER(38,0),
	QTY FLOAT,
	UNIT_PRICE FLOAT,
	TOTAL_AMOUNT FLOAT,
	ORDER_DATE DATE,
	SHIPPING_ADDRESS VARCHAR(16777216),
	DELIVERY_CONTACT VARCHAR(16777216),
	DELIVERY_STATUS VARCHAR(16777216),
	DELIVERED_DATE DATE,
	RCD_INSERT_DT TIMESTAMP_NTZ(9),
	RCD_UPDATE_DT TIMESTAMP_NTZ(9),
	constraint PK_DWH_ORDERS_F primary key (ORDER_NUM)
);
create or replace TABLE DWH_PRICE_F (
	ROW_KEY NUMBER(38,0) autoincrement,
	CU_KEY NUMBER(38,0),
	FROM_DATE DATE,
	TO_DATE DATE,
	CU_ID NUMBER(38,0),
	PROD_KEY NUMBER(38,0),
	PROD_ID NUMBER(38,0),
	UNIT_PRICE FLOAT,
	SUPPLIER_FLAG VARCHAR(1),
	RCD_INSERT_DT TIMESTAMP_NTZ(9),
	RCD_UPDATE_DT TIMESTAMP_NTZ(9),
	constraint PK_DWH_PRICE_F primary key (CU_ID, PROD_ID)
);
create or replace TABLE DWH_PRODUCT_D (
	PROD_KEY NUMBER(38,0) autoincrement,
	PROD_ID NUMBER(38,0),
	DESCRIPTION VARCHAR(16777216),
	DEPARTMENT VARCHAR(16777216),
	CLASS VARCHAR(16777216),
	CURRENT_FLG VARCHAR(1),
	RCD_INSERT_DT TIMESTAMP_NTZ(9),
	RCD_UPDATE_DT TIMESTAMP_NTZ(9),
	constraint PK_DWH_PRODUCT_D primary key (PROD_ID)
);

create or replace TABLE DWH_WEB_LOG_DATA (
	IP VARCHAR(16777216),
	IDENTITY VARCHAR(16777216),
	USERNAME VARCHAR(16777216),
	TIME TIMESTAMP_TZ(9),
	REQUEST VARCHAR(16777216),
	STATUS VARCHAR(16777216),
	SIZE VARCHAR(16777216),
	REFERER VARCHAR(16777216),
	AGENT VARCHAR(16777216),
	RCD_INSERT_DT TIMESTAMP_TZ(9),
	RCD_UPDATE_DT TIMESTAMP_TZ(9)
);
create or replace TABLE DWH_BATCH_LOG (
	BATCH_ID NUMBER(10,0),
	JOB_ID NUMBER(10,0),
	JOB_NAME VARCHAR(50),
	RUN_DATE DATE,
	STRT_TMS TIMESTAMP_NTZ(9),
	END_TMS TIMESTAMP_NTZ(9),
	STATUS VARCHAR(20),
	ERROR_MESSAGE VARCHAR(100),
	BOOKMARK VARCHAR(100),
	LOGFILE VARCHAR(100)
);

create or replace TABLE DWH_SCRIPTS_CONFIG (
	JOB_ID NUMBER(10,0) NOT NULL,
	JOB_NAME VARCHAR(100),
	JOB_FREQUENCY VARCHAR(20),
	LOAD_TYPE VARCHAR(1),
	constraint PK_DWH_SCRIPTS_CONFIG primary key (JOB_ID)
);
create or replace TABLE DWH_TIME_DAY_D (
	ID DATE,
	DAY_KY VARCHAR(16777216),
	MONTH_KY VARCHAR(16777216),
	MONTH_DESC VARCHAR(16777216),
	MONTH_START_DATE DATE,
	MONTH_END_DATE DATE,
	QUARTER_KY VARCHAR(16777216),
	YEAR_KY NUMBER(4,0),
	HALF_YEAR_KY VARCHAR(16777216),
	DAY_START_TIME VARCHAR(16777216),
	DAY_END_TIME VARCHAR(16777216),
	OPEN_CLOSE_CD NUMBER(1,0),
	ROW_INSRT_TMS TIMESTAMP_NTZ(9),
	ROW_UPDT_TMS TIMESTAMP_NTZ(9),
	constraint PK_DWH_TIME_DAY_D primary key (ID)
);
